@using System.Runtime.ExceptionServices
@using OfficeOpenXml.FormulaParsing.Excel.Functions.Logical
@model IEnumerable<BelibaHoma.BLL.Models.TutorSessionModel>

@{
    ViewBag.Title = "פרטי בדיווח";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="well">
    <h2 align="">מפגשים</h2>
    <hr/>
    @*@{
        //TODO: Atalia & Manor - Add all content to if, add else in case no tutorSessions with a warning - No tutorSessions found.
        if (Model.Count() > 0)
        {
        }
    }*@
    <p>
        <a class="btn btn-default" href="/Tutor/TutorReport/TutorTraineeReports/@Model.FirstOrDefault().TutorReport.TutorTraineeId">חזור לעמוד דיווחים</a>
    </p>
    <br/>

    @{
        if (Model.FirstOrDefault().TutorReport.IsProblem == true)
        {
            <div class="panel panel-danger">
                <div class="panel-heading">
                    <span class="glyphicon glyphicon-flag pull-right" aria-hidden="true"></span>
                    <b>שים לב!</b> דיווח זה סומן כדיווח דורש התערבות
                </div>
            </div>
        }
    }
    <br/>
    <h4>
     תיאור המפגשים:
    </h4>

            @Html.DisplayFor(model => model.First().TutorReport.MeetingsDescription)
    <br/>
    <br />
    <h4>
         פירוט:
    </h4>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.MeetingDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MeetingPlace)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NumBondingHours)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.StartTime)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EndTime)
            </th>
            <th></th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.MeetingDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MeetingPlace)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NumBondingHours)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.StartTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.EndTime)
                </td>
                @*<td>
                        @item.MeetingPlace.ToDescription()
                    </td>
                    <td>
                        @item.NumBondingHours.ToDescription()
                    </td>*@
                <td>
                    @*@Html.ActionLink("עריכה", "Edit", new { id = item.Id })*@
                    <a class="btn btn-default btn-xs" href="/Tutor/TutorSession/Edit/?id=@item.Id">ערוך מפגש</a>
                </td>
            </tr>
        }
    </table>
</div>